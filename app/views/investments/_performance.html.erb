<div id="investment_performance" class="bg-white shadow rounded-lg dark:bg-gray-800">
  <div class="p-6">
    <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Performance Metrics</h2>
    <dl class="grid grid-cols-1 gap-5 sm:grid-cols-4">
      <div class="px-4 py-5 bg-gray-50 shadow rounded-lg overflow-hidden sm:p-6 dark:bg-gray-700">
        <dt class="text-sm font-medium text-gray-500 truncate dark:text-gray-400">
          Total Units
        </dt>
        <dd class="mt-1 text-3xl font-semibold text-gray-900 dark:text-white">
          <%= number_with_delimiter(investment.total_units) %>
        </dd>
      </div>

      <div class="px-4 py-5 bg-gray-50 shadow rounded-lg overflow-hidden sm:p-6 dark:bg-gray-700">
        <dt class="text-sm font-medium text-gray-500 truncate dark:text-gray-400">
          Current Unit Price
        </dt>
        <dd class="mt-1 text-3xl font-semibold text-gray-900 dark:text-white">
          <%= number_to_currency(investment.current_unit_price) %>
        </dd>
      </div>

      <div class="px-4 py-5 bg-gray-50 shadow rounded-lg overflow-hidden sm:p-6 dark:bg-gray-700">
        <dt class="text-sm font-medium text-gray-500 truncate dark:text-gray-400">
          Total Value
        </dt>
        <dd class="mt-1 text-3xl font-semibold text-gray-900 dark:text-white">
          <%= number_to_currency(investment.total_units * investment.current_unit_price) if investment.total_units && investment.current_unit_price %>
        </dd>
      </div>

      <div class="px-4 py-5 bg-gray-50 shadow rounded-lg overflow-hidden sm:p-6 dark:bg-gray-700">
        <dt class="text-sm font-medium text-gray-500 truncate dark:text-gray-400">
          Return Amount
        </dt>
        <dd class="mt-1 text-3xl font-semibold text-gray-900 dark:text-white">
          <% if investment.total_return.present? %>
            <span class="<%= investment.total_return >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400' %>">
              <%= number_to_currency(investment.total_gain_loss) %>
            </span>
          <% else %>
            --
          <% end %>
        </dd>
      </div>

      <div class="px-4 py-5 bg-gray-50 shadow rounded-lg overflow-hidden sm:p-6 dark:bg-gray-700">
        <dt class="text-sm font-medium text-gray-500 truncate dark:text-gray-400">
          Return Percentage
        </dt>
        <dd class="mt-1 text-3xl font-semibold text-gray-900 dark:text-white">
          <% if investment.total_return.present? %>
            <span class="<%= investment.total_return >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400' %>">
              <%= number_to_percentage(investment.total_return * 100, precision: 2) %>
            </span>
          <% else %>
            --
          <% end %>
        </dd>
      </div>
    </dl>
  </div>
</div>
